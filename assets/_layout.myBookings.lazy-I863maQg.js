import{a as p,r as o,j as e,B as a,L as u,c as x}from"./index-DAnKxXjM.js";import"./dayjs.min-DR0wKit_.js";/* empty css                     */import{C as g}from"./Container-CnWtuEqw.js";const k="_container_lnhy6_1",b="_bookingCard_lnhy6_12",c={container:k,bookingCard:b},l="https://czvtumfwyoalvjjriqjd.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6dnR1bWZ3eW9hbHZqanJpcWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1MDI4NzAsImV4cCI6MjA0NzA3ODg3MH0.NEY9zyupKwJFon_TWRWVrlTM8Yd_UXAjB-YhbeAIelE",I=p(l,t);function y(){const[d,h]=o.useState([]),[m,i]=o.useState(!0);o.useEffect(()=>{r()},[]);async function r(){i(!0);const n=await fetch(`${l}/rest/v1/bookings`,{headers:{apikey:t,Authorization:`Bearer ${t}`}}).then(s=>s.json());console.log(n),h(n),i(!1)}async function j(n){try{const{error:s}=await I.from("bookings").delete().eq("id",n);if(s)throw s;r()}catch(s){console.error("Error deleting booking:",s.message)}}return e.jsxs(g,{className:c.container,children:[e.jsx("h1",{children:"Mine aktuelle bookinger"}),m?e.jsx("p",{children:"Henter data..."}):e.jsx("div",{children:d.map(n=>e.jsxs("div",{className:c.bookingCard,children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("b",{children:"Dato:"})," ",n.booking_date]}),e.jsxs("p",{children:[e.jsx("b",{children:"Lokale:"})," ",n.selectedRoom]}),e.jsxs("p",{children:[e.jsx("b",{children:"Tidsrum:"})," ",n.startTime," - ",n.endTime]}),e.jsxs("p",{children:[e.jsx("b",{children:"Email:"})," ",n.email]})]}),e.jsx(a,{className:"deleteButton",onClick:()=>j(n.id),children:"Slet booking"})]},n.id))}),e.jsx(u,{to:"/booking",children:e.jsx("div",{style:{textAlign:"center",padding:"30px 0"},children:e.jsx(a,{className:"greenBtn",children:"Opret ny booking"})})})]})}const N=x("/_layout/myBookings")({component:B});function B(){return e.jsx(y,{})}export{N as Route};
