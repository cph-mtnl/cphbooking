import{a as x,u as j,r as n,j as e,L as I,B as c,c as w}from"./index--u5VDHPd.js";import{u as y}from"./useRouteContext-x16pq_v0.js";import{s as k}from"./LoginForm.module-ogHG73oz.js";import{F as C,f as N}from"./index-COtYHpY1.js";/* empty css                     */import{C as b}from"./Container-DOqlpcXL.js";import{T as v,P as z}from"./TextInput-Ch3GMn-i.js";import"./Input-BJE1Lerg.js";import"./InputBase-CKPMwJvH.js";const E="https://czvtumfwyoalvjjriqjd.supabase.co",S="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN6dnR1bWZ3eW9hbHZqanJpcWpkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE1MDI4NzAsImV4cCI6MjA0NzA3ODg3MH0.NEY9zyupKwJFon_TWRWVrlTM8Yd_UXAjB-YhbeAIelE";x(E,S);function F(){const s=y({from:"/loginStudent"}),d=j(),[i,L]=n.useState(""),[m,p]=n.useState(""),[u,g]=n.useState("");async function a(h){h.preventDefault();const l=new FormData(document.querySelector("#login-form")),o=l.get("email"),t=l.get("password");(o===""||o.indexOf("@")===-1)&&p("Forkert email"),t===""&&g("Forkert password"),console.log(i),console.log(o),console.log(t),console.log(s.supabase);const{data:r,error:B}=await s.supabase.auth.signInWithPassword({email:o,password:t}),f={name:i,email:r.user.email};console.log("login",r.user.email),s.setUserInfo(f),console.log("Brugerdata:",r),d({to:"/booking"})}return e.jsx("div",{children:e.jsxs(b,{className:k.container,children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:""},children:e.jsx(I,{to:"/studentTeacher",children:e.jsxs(c,{size:"lg",className:"transparentBtn",onClick:()=>s.navigate("/"),children:[" ",e.jsx(C,{icon:N}),"  Tilbage"]})})}),e.jsx("h1",{children:"Log ind"}),e.jsxs("form",{onSubmit:a,id:"login-form",children:[e.jsx(v,{style:{color:"white"},label:"Mail",description:"Skriv din skolemail",placeholder:"Mail",name:"email",withAsterisk:!0,size:"lg",styles:{description:{color:"white"}}}),m&&e.jsx("span",{style:{color:"red"},className:"error",children:"Forkert email"}),e.jsx(z,{style:{padding:"40px 0px",color:"white"},label:"Password",description:"Skriv dit password",placeholder:"Password",name:"password",withAsterisk:!0,size:"lg",styles:{description:{color:"white"}}}),u&&e.jsx("span",{style:{color:"red"},className:"error",children:"Forkert password"}),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx(c,{size:"lg",className:"greenBtn",onClick:a,children:"Log ind"})})]})]})})}const D=w("/loginStudent")({component:A});function A(){return e.jsx("div",{children:e.jsx(F,{})})}export{D as Route};
